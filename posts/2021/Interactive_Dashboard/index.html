
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>HiRes-CESM Interactive Dashboard Example &#8212; NCAR-ESDS 0.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=bd9e20870c6007c4c509" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=bd9e20870c6007c4c509" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=bd9e20870c6007c4c509" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=bd9e20870c6007c4c509" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=66307ba7" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=bd9e20870c6007c4c509" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=bd9e20870c6007c4c509" />
  <script src="../../../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=bd9e20870c6007c4c509"></script>

    <script src="../../../_static/documentation_options.js?v=19645805"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=30646c52"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "NCAR/esds");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "ðŸ’¬ comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script src="../../../_static/design-tabs.js?v=36754332"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'posts/2021/Interactive_Dashboard';</script>
    <link rel="author" title="About these documents" href="../../../about/" />
    <link rel="index" title="Index" href="../../../genindex/" />
    <link rel="search" title="Search" href="../../../search/" />

  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>

<link
  rel="alternate"
  type="application/atom+xml"
  href="../../../blog/atom.xml"
  title="NCAR ESDS"
/>



  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search/"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this site... "
         aria-label="Search this site... "
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <header>
  
    <div class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../../../">
  
  
  
  
  
  
    <p class="title logo__title">NCAR-ESDS 0.1 documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../about/">
                        About Us
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../faq/">
                        Frequently Asked Questions
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../blog/">
                        Blog
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../communication/">
                        Communication, Meetings, and Resources
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../office-hours/">
                        Office Hours
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../../../best-practices/">
                        Best Practices
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../../../projects/">
                        Projects
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">
<form class="bd-search d-flex align-items-center"
      action="../../../search/"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this site... "
         aria-label="Search this site... "
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ncar/esds" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </div>
  
  </header>

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../about/">
                        About Us
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../faq/">
                        Frequently Asked Questions
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../blog/">
                        Blog
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../communication/">
                        Communication, Meetings, and Resources
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../office-hours/">
                        Office Hours
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links-2">
                    More
                </button>
                <ul id="pst-nav-more-links-2" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../../../best-practices/">
                        Best Practices
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../../../projects/">
                        Projects
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<form class="bd-search d-flex align-items-center"
      action="../../../search/"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this site... "
         aria-label="Search this site... "
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ncar/esds" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<form class="bd-search d-flex align-items-center"
      action="../../../search/"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this site... "
         aria-label="Search this site... "
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
        <div class="sidebar-primary-item">

<div class="ablog-sidebar-item ablog__postcard">


<h2>
  
  
  <i class="fa fa-calendar"></i>
  
  19 March 2021
  
</h2>
<ul>
  <div class="ablog-sidebar-item ablog__postcard2">


<li id="ablog-sidebar-item author ablog__author">
  <span>
    
    <i class="fa-fw fa fa-user"></i>
    
    </span>
  
  
  <a href="../../../blog/author/max-grover/">Max Grover</a>
  
  
  
</li>





<li id="ablog-sidebar-item tags ablog__tags">
  <span>
    
    
    <i class="fa-fw fa fa-tags"></i>
    
    
    </span>
  
  
  <a href="../../../blog/tag/jupyter/">jupyter</a>
  
  
  
  
  
  <a href="../../../blog/tag/dashboard/">dashboard</a>
  
  
  
</li>


</div>
</ul>
</div>
</div>
        <div class="sidebar-primary-item">

<div class="ablog-sidebar-item ablog__recentposts">
<h3>
  <a href="../../../blog/">Recent Posts</a>
</h3>
<ul>
  
  
  <li>
    <a href="../../2023/esds-annual-event/">
      21 November - 2024 Earth System Data Science (ESDS) Annual Event
    </a>
  </li>
  
  <li>
    <a href="../../2023/scipy23/">
      28 August - ESDS at SciPy 2023
    </a>
  </li>
  
  <li>
    <a href="../../2023/mfdataset/">
      16 August - Thinking through CESM data access
    </a>
  </li>
  
  <li>
    <a href="../../2023/cam-se-analysis/">
      15 August - Analyzing and Visualizing CAM-SE Output in Python
    </a>
  </li>
  
  <li>
    <a href="../../2023/office-hours-help/">
      10 May - ESDS Office Hours Support
    </a>
  </li>
  
</ul>
</div>
</div>
        <div class="sidebar-primary-item">

<div class="ablog-sidebar-item ablog__archive">
<h3>
  <a href="../../../blog/archive/">Archives</a>
</h3>
<ul>
  
  
  <li>
    <a href="../../../blog/2023/">2023 (8)</a>
  </li>
  
  
  
  <li>
    <a href="../../../blog/2022/">2022 (13)</a>
  </li>
  
  
  
  <li>
    <a href="../../../blog/2021/">2021 (52)</a>
  </li>
  
  
  
  <li>
    <a href="../../../blog/2020/">2020 (6)</a>
  </li>
  
  
  
  <li>
    <a href="../../../blog/2019/">2019 (2)</a>
  </li>
  
  
</ul>
</div>
</div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">HiRes-CESM...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
<section class="tex2jax_ignore mathjax_ignore" id="hires-cesm-interactive-dashboard-example">
<h1>HiRes-CESM Interactive Dashboard Example<a class="headerlink" href="#hires-cesm-interactive-dashboard-example" title="Link to this heading">#</a></h1>
<p>In this example, our goal is to create an interactive dashboard, using images already output on a remote server.</p>
<p>We are specifically interested in looking at plots created using the <a class="reference external" href="https://github.com/marbl-ecosys/HiRes-CESM-analysis">HighRes-CESM-Analysis</a> repository.</p>
<p>Images created by this package can be visualized through an interactive
dashboard using <a class="reference external" href="https://github.com/andersy005/panelify">Panelify</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">panel</span> <span class="k">as</span> <span class="nn">pn</span>
<span class="kn">import</span> <span class="nn">panelify</span>

<span class="n">pn</span><span class="o">.</span><span class="n">extension</span><span class="p">()</span>
</pre></div>
</div>
<hr class="docutils" />
<section id="accessing-the-data-plots">
<h2>Accessing the Data (Plots)<a class="headerlink" href="#accessing-the-data-plots" title="Link to this heading">#</a></h2>
<p>The plots from this example are stored on the
<a class="reference external" href="https://webext.cgd.ucar.edu/">CGD webext machine</a>, specifically from
<a class="reference external" href="https://webext.cgd.ucar.edu/g.e22b05.G1850ECOIAF_JRA.TL319_g17.cocco.001/">this specific case</a>,
which we use as the path.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">paths</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;https://webext.cgd.ucar.edu/g.e22.G1850ECO_JRA_HR.TL319_t13.004/&quot;</span><span class="p">,</span>
    <span class="s2">&quot;https://webext.cgd.ucar.edu/g.e22.G1850ECO_JRA_HR.TL319_t13.003/&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<section id="read-in-the-csv-file-containing-metadata">
<h3>Read in the CSV File Containing Metadata<a class="headerlink" href="#read-in-the-csv-file-containing-metadata" title="Link to this heading">#</a></h3>
<p>We use pandas to remotely read in the data, dropping the Unnamed column, and
merging the absolute path to the directory and the relative filepaths</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">:</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">png_catalog.csv&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;Unnamed: 0&quot;</span><span class="p">)</span>

    <span class="c1"># Convert the relative filepaths to absolute filepaths</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">&quot;absolute_filepath&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">path</span> <span class="o">+</span> <span class="n">df</span><span class="o">.</span><span class="n">filepath</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

    <span class="n">df_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="c1"># Merge the dataframes</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">df_list</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>
</div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</pre></div>
</div>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>plot_type</th>
      <th>varname</th>
      <th>casename</th>
      <th>apply_log10</th>
      <th>time_period</th>
      <th>isel_dict</th>
      <th>filepath</th>
      <th>date</th>
      <th>absolute_filepath</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>histogram</td>
      <td>CaCO3_FLUX_100m</td>
      <td>g.e22.G1850ECO_JRA_HR.TL319_t13.004</td>
      <td>False</td>
      <td>0001-01-01_0001-12-31</td>
      <td>{}</td>
      <td>histogram/CaCO3_FLUX_100m.0001-01-01_0001-12-3...</td>
      <td>NaN</td>
      <td>https://webext.cgd.ucar.edu/g.e22.G1850ECO_JRA...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>histogram</td>
      <td>CaCO3_FLUX_100m</td>
      <td>g.e22.G1850ECO_JRA_HR.TL319_t13.004</td>
      <td>True</td>
      <td>0001-01-01_0001-12-31</td>
      <td>{}</td>
      <td>histogram/CaCO3_FLUX_100m.0001-01-01_0001-12-3...</td>
      <td>NaN</td>
      <td>https://webext.cgd.ucar.edu/g.e22.G1850ECO_JRA...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>histogram</td>
      <td>CaCO3_FLUX_100m</td>
      <td>g.e22.G1850ECO_JRA_HR.TL319_t13.004</td>
      <td>False</td>
      <td>0002-01-01_0002-12-31</td>
      <td>{}</td>
      <td>histogram/CaCO3_FLUX_100m.0002-01-01_0002-12-3...</td>
      <td>NaN</td>
      <td>https://webext.cgd.ucar.edu/g.e22.G1850ECO_JRA...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>histogram</td>
      <td>CaCO3_FLUX_100m</td>
      <td>g.e22.G1850ECO_JRA_HR.TL319_t13.004</td>
      <td>True</td>
      <td>0002-01-01_0002-12-31</td>
      <td>{}</td>
      <td>histogram/CaCO3_FLUX_100m.0002-01-01_0002-12-3...</td>
      <td>NaN</td>
      <td>https://webext.cgd.ucar.edu/g.e22.G1850ECO_JRA...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>histogram</td>
      <td>CaCO3_FLUX_100m</td>
      <td>g.e22.G1850ECO_JRA_HR.TL319_t13.004</td>
      <td>False</td>
      <td>0003-01-01_0003-12-31</td>
      <td>{}</td>
      <td>histogram/CaCO3_FLUX_100m.0003-01-01_0003-12-3...</td>
      <td>NaN</td>
      <td>https://webext.cgd.ucar.edu/g.e22.G1850ECO_JRA...</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>719</th>
      <td>trend_map</td>
      <td>SiO3</td>
      <td>g.e22.G1850ECO_JRA_HR.TL319_t13.003</td>
      <td>NaN</td>
      <td>0002-01-01_0004-12-31</td>
      <td>{'z_t': 0}</td>
      <td>trend_map/SiO3.0002-01-01_0004-12-31.z_t--3510...</td>
      <td>NaN</td>
      <td>https://webext.cgd.ucar.edu/g.e22.G1850ECO_JRA...</td>
    </tr>
    <tr>
      <th>720</th>
      <td>trend_map</td>
      <td>SiO3</td>
      <td>g.e22.G1850ECO_JRA_HR.TL319_t13.003</td>
      <td>NaN</td>
      <td>0003-01-01_0004-12-31</td>
      <td>{'basins': 0}</td>
      <td>trend_map/SiO3.0003-01-01_0004-12-31.basins--A...</td>
      <td>NaN</td>
      <td>https://webext.cgd.ucar.edu/g.e22.G1850ECO_JRA...</td>
    </tr>
    <tr>
      <th>721</th>
      <td>trend_map</td>
      <td>SiO3</td>
      <td>g.e22.G1850ECO_JRA_HR.TL319_t13.003</td>
      <td>NaN</td>
      <td>0003-01-01_0004-12-31</td>
      <td>{'basins': 0}</td>
      <td>trend_map/SiO3.0003-01-01_0004-12-31.basins--G...</td>
      <td>NaN</td>
      <td>https://webext.cgd.ucar.edu/g.e22.G1850ECO_JRA...</td>
    </tr>
    <tr>
      <th>722</th>
      <td>trend_map</td>
      <td>SiO3</td>
      <td>g.e22.G1850ECO_JRA_HR.TL319_t13.003</td>
      <td>NaN</td>
      <td>0003-01-01_0004-12-31</td>
      <td>{'basins': 0}</td>
      <td>trend_map/SiO3.0003-01-01_0004-12-31.basins--I...</td>
      <td>NaN</td>
      <td>https://webext.cgd.ucar.edu/g.e22.G1850ECO_JRA...</td>
    </tr>
    <tr>
      <th>723</th>
      <td>trend_map</td>
      <td>SiO3</td>
      <td>g.e22.G1850ECO_JRA_HR.TL319_t13.003</td>
      <td>NaN</td>
      <td>0003-01-01_0004-12-31</td>
      <td>{'basins': 0}</td>
      <td>trend_map/SiO3.0003-01-01_0004-12-31.basins--P...</td>
      <td>NaN</td>
      <td>https://webext.cgd.ucar.edu/g.e22.G1850ECO_JRA...</td>
    </tr>
  </tbody>
</table>
<p>1969 rows Ã— 9 columns</p>
</div>
</section>
<section id="dealing-with-relative-vs-absolute-paths">
<h3>Dealing with Relative vs. Absolute Paths<a class="headerlink" href="#dealing-with-relative-vs-absolute-paths" title="Link to this heading">#</a></h3>
<p>In the previous cell, we edited the filepathsâ€¦ that is because the image filepaths are relative paths, but we would ideally like absolute paths. We make use of the dataframe path to assign the new absolute filepaths. An example is given below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Original filepath: &quot;</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">filepath</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1"># Convert the relative filepaths to absolute filepaths</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;filepath&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">path</span> <span class="o">+</span> <span class="n">df</span><span class="o">.</span><span class="n">filepath</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;New filepath &quot;</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">filepath</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Original filepath:  histogram/CaCO3_FLUX_100m.0001-01-01_0001-12-31.png
New filepath  https://webext.cgd.ucar.edu/g.e22.G1850ECO_JRA_HR.TL319_t13.003/histogram/CaCO3_FLUX_100m.0001-01-01_0001-12-31.png
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="build-the-dashboard">
<h3>Build the Dashboard<a class="headerlink" href="#build-the-dashboard" title="Link to this heading">#</a></h3>
<p>First, we check which types of plots are included in the analysis.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">plot_type</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>array([&#39;histogram&#39;, &#39;summary_map&#39;, &#39;time_series&#39;, &#39;trend_hist&#39;,
       &#39;trend_map&#39;], dtype=object)
</pre></div>
</div>
<p>Although there are five different plot types, we focus on the first three.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Since we are using https, we leave this dictionary empty</span>
<span class="n">storage_options</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># Create the timestep dashboard</span>
<span class="n">summary_map</span> <span class="o">=</span> <span class="n">panelify</span><span class="o">.</span><span class="n">create_dashboard</span><span class="p">(</span>
    <span class="n">keys</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;casename&quot;</span><span class="p">,</span> <span class="s2">&quot;varname&quot;</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="s2">&quot;apply_log10&quot;</span><span class="p">],</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">plot_type</span> <span class="o">==</span> <span class="s2">&quot;summary_map&quot;</span><span class="p">],</span>
    <span class="n">path_column</span><span class="o">=</span><span class="s2">&quot;absolute_filepath&quot;</span><span class="p">,</span>
    <span class="n">storage_options</span><span class="o">=</span><span class="n">storage_options</span><span class="p">,</span>
    <span class="n">column_widget_types</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="s2">&quot;discrete_slider&quot;</span><span class="p">},</span>
<span class="p">)</span>

<span class="c1"># Create the timeseries dashboard</span>
<span class="n">time_series</span> <span class="o">=</span> <span class="n">panelify</span><span class="o">.</span><span class="n">create_dashboard</span><span class="p">(</span>
    <span class="n">keys</span><span class="o">=</span><span class="p">[</span>
        <span class="s2">&quot;casename&quot;</span><span class="p">,</span>
        <span class="s2">&quot;varname&quot;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">plot_type</span> <span class="o">==</span> <span class="s2">&quot;time_series&quot;</span><span class="p">],</span>
    <span class="n">path_column</span><span class="o">=</span><span class="s2">&quot;absolute_filepath&quot;</span><span class="p">,</span>
    <span class="n">storage_options</span><span class="o">=</span><span class="n">storage_options</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Create the histogram dashboard</span>
<span class="n">histogram</span> <span class="o">=</span> <span class="n">panelify</span><span class="o">.</span><span class="n">create_dashboard</span><span class="p">(</span>
    <span class="n">keys</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;casename&quot;</span><span class="p">,</span> <span class="s2">&quot;varname&quot;</span><span class="p">,</span> <span class="s2">&quot;time_period&quot;</span><span class="p">,</span> <span class="s2">&quot;apply_log10&quot;</span><span class="p">],</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">plot_type</span> <span class="o">==</span> <span class="s2">&quot;histogram&quot;</span><span class="p">],</span>
    <span class="n">path_column</span><span class="o">=</span><span class="s2">&quot;absolute_filepath&quot;</span><span class="p">,</span>
    <span class="n">storage_options</span><span class="o">=</span><span class="n">storage_options</span><span class="p">,</span>
    <span class="n">column_widget_types</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;time_period&quot;</span><span class="p">:</span> <span class="s2">&quot;discrete_slider&quot;</span><span class="p">},</span>
<span class="p">)</span>

<span class="c1"># Bring the various dashboard components into a single canvas</span>
<span class="n">canvas</span> <span class="o">=</span> <span class="n">panelify</span><span class="o">.</span><span class="n">Canvas</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="s2">&quot;Summary Map&quot;</span><span class="p">:</span> <span class="n">summary_map</span><span class="o">.</span><span class="n">view</span><span class="p">,</span>
        <span class="s2">&quot;Time Series&quot;</span><span class="p">:</span> <span class="n">time_series</span><span class="o">.</span><span class="n">view</span><span class="p">,</span>
        <span class="s2">&quot;Histogram&quot;</span><span class="p">:</span> <span class="n">histogram</span><span class="o">.</span><span class="n">view</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="run-the-dashboard-inline">
<h3>Run the Dashboard Inline<a class="headerlink" href="#run-the-dashboard-inline" title="Link to this heading">#</a></h3>
<p>Now that we have built the dashboard, we run it within the notebook.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hv_logo</span> <span class="o">=</span> <span class="s1">&#39;&lt;a href=&quot;https://holoviz.org&quot;&gt;&lt;img src=&quot;https://holoviz.org/assets/holoviz-logo-stacked.svg&quot; width=80&gt;&lt;/a&gt;&#39;</span>
<span class="n">thumbnail</span> <span class="o">=</span> <span class="s1">&#39;&lt;a href=&quot;https://github.com/marbl-ecosys/&quot;&gt;&lt;img src=&quot;https://raw.githubusercontent.com/NCAR/cesm-lens-aws/master/thumbnail.png&quot; width=80 height=80&gt;&lt;/a&gt;&#39;</span>
<span class="n">menu_background</span> <span class="o">=</span> <span class="s2">&quot;#659dbd&quot;</span>
<span class="n">menu_text</span> <span class="o">=</span> <span class="s2">&quot;&lt;div&gt;&lt;p&gt;0.1 degree POP / CICE run with ocean BGC&lt;/p&gt;&lt;br&gt;&lt;br&gt;&lt;p&gt;&lt;a href=&#39;https://github.com/marbl-ecosys/HiRes-CESM-analysis&#39;&gt;HiRes-CESM analysis repo&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=&#39;https://github.com/andersy005/HiRes-CESM-dashboard&#39;&gt;HiRes-CESM dashboard repo&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&quot;</span>
<span class="n">menu</span> <span class="o">=</span> <span class="n">pn</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span>
    <span class="n">menu_text</span><span class="p">,</span>
    <span class="n">pn</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
        <span class="n">pn</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>
        <span class="n">pn</span><span class="o">.</span><span class="n">Pane</span><span class="p">(</span><span class="n">thumbnail</span><span class="p">),</span>
        <span class="n">pn</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>
        <span class="n">pn</span><span class="o">.</span><span class="n">Pane</span><span class="p">(</span><span class="n">hv_logo</span><span class="p">),</span>
    <span class="p">),</span>
    <span class="n">background</span><span class="o">=</span><span class="n">menu_background</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">dashboard</span> <span class="o">=</span> <span class="n">pn</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span><span class="n">menu</span><span class="p">,</span> <span class="n">canvas</span><span class="o">.</span><span class="n">show</span><span class="p">())</span>
<span class="n">dashboard</span><span class="o">.</span><span class="n">servable</span><span class="p">(</span><span class="s2">&quot;HiRes-CESM Diagnostics Dashboard&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Since these plots are not rendered directly in this notebook online, here is the ouput deployed using Dokku/Heroku</p>
<p><a class="reference external" href="https://hires-cesm-analysis.dokku.projectpythia.org/Interactive_Dashboard"><img alt="https://img.shields.io/badge/%E2%86%91_Deploy_to-Heroku-7056bf.svg" src="http://img.shields.io/badge/%E2%86%91_launch_dashboard_on-Heroku-7056bf.svg" /></a></p>
</section>
</section>
</section>

<div class="section ablog__blog_comments">
  
  


<div class="section ablog__prev-next">
  <span class="ablog__prev">
    
    
    <a href="../jupyter-notebooks-faq/">
      
      <i class="fa fa-arrow-circle-left"></i>
      
      <span>Jupyter Notebooks Tutorial FAQ</span>
    </a>
    
  </span>
  <span class="ablog__spacer">&nbsp;</span>
  <span class="ablog__next">
    
    
    <a href="../matplotlib-tutorial/">
      <span>Matplotlib Tutorial</span>
      
      <i class="fa fa-arrow-circle-right" ></i>
      
    </a>
    
  </span>
</div>

  
  
</div>

                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-the-data-plots">Accessing the Data (Plots)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#read-in-the-csv-file-containing-metadata">Read in the CSV File Containing Metadata</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dealing-with-relative-vs-absolute-paths">Dealing with Relative vs. Absolute Paths</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#build-the-dashboard">Build the Dashboard</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#run-the-dashboard-inline">Run the Dashboard Inline</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../../_sources/posts/2021/Interactive_Dashboard.md.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=bd9e20870c6007c4c509"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=bd9e20870c6007c4c509"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      Â© Copyright 2021, NCAR Earth System Data Science Team.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>